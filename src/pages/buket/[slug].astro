---
import MainLayout from "../../layouts/MainLayout.astro";
import Button from "../../components/Button.astro";
import { getBuketData, getAllBuketterSlugs } from "../../data/buketData.js";

// Hent slug fra ruten
const { slug } = Astro.params;

// Hent buketdata baseret på slug
const buket = getBuketData(slug);

if (!buket) {
  throw new Error(`Ingen buket fundet for slug: ${slug}`);
}

// Generér statiske ruter
export async function getStaticPaths() {
  const slugs = getAllBuketterSlugs();
  return slugs.map(slug => ({
    params: { slug }, // Slug bruges som parameter
  }));
}
---

<MainLayout title={buket.title}>
  <section class="grid grid-cols-1 laptop:grid-cols-2 gap-8 p-8">
    <img 
      src={buket.image} 
      alt={`Billede af ${buket.title}`} 
      class="w-full max-w-md laptop:max-w-lg"
    />

      <div class="space-y-4">
      <h1 class="font-bold mobile:text-4xl laptop:text-6xl font-montserrat mb-4 pt-16">{buket.title}</h1>
      <p class="text-2xl font-bold text-black">{buket.price}</p>
      <p class="mobile:text-lg laptop:text-xl font-montserrat">{buket.longDescription}</p>
      <a href="/singleview"><Button variant="primary" size="large">CLICK & COLLECT</Button></a>

      <h2 class="mobile:text-lg laptop:text-2xl font-montserrat">Sådan fungerer Click & Collect</h2>
      <ol class="mobile:text-lg laptop:text-xl font-montserrat">
      <li><strong>Bestil online:</strong> Vælg din favoritbuket eller plante, og gennemfør din bestilling direkte på hjemmesiden.</li>
      <br>
      <li><strong>Afhent i butikken:</strong> Din ordre bliver gjort klar af vores florist og kan hentes samme dag eller på et tidspunkt, der passer dig bedst.</li>
      <br>
      <li>Vi sørger for, at dine blomster er klar til afhentning, så du hurtigt og nemt kan tage dem med hjem!</li>
      </ol>
    </div>
  </section>


</MainLayout>